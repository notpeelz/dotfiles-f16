general {
  lock_cmd = systemctl --user start hyprlock
  unlock_cmd = systemctl --user stop hyprlock
  before_sleep_cmd = loginctl lock-session
  after_sleep_cmd = niri msg action power-on-monitors
}

# brightness
listener {
  timeout = 150
  on-timeout = brightnessctl -s set 0
  on-resume = brightnessctl -r
}

# keyboard backlight
listener {
  timeout = 150
  on-timeout = ${XDG_CONFIG_HOME:-${HOME}/.config}/hypr/scripts/set-kb-backlight 32ac 0012 0
  on-resume = ${XDG_CONFIG_HOME:-${HOME}/.config}/hypr/scripts/set-kb-backlight 32ac 0012 restore
}

# numpad backlight
listener {
  timeout = 150
  on-timeout = ${XDG_CONFIG_HOME:-${HOME}/.config}/hypr/scripts/set-kb-backlight 32ac 0014 0
  on-resume = ${XDG_CONFIG_HOME:-${HOME}/.config}/hypr/scripts/set-kb-backlight 32ac 0014 restore
}

# lock session
listener {
  timeout = 300
  on-timeout = loginctl lock-session
}

# power off monitors
listener {
  timeout = 330
  on-timeout = niri msg action power-off-monitors
  on-resume = niri msg action power-on-monitors && brightnessctl -r
}

# sleep
listener {
  timeout = 1800
  on-timeout = systemctl sleep
}
